2025-11-01T05:27:47.6749782Z Current runner version: '2.329.0'
2025-11-01T05:27:47.6757205Z Runner name: 'BOTPC'
2025-11-01T05:27:47.6757806Z Runner group name: 'Default'
2025-11-01T05:27:47.6758610Z Machine name: 'BOTPC'
2025-11-01T05:27:47.6761963Z ##[group]GITHUB_TOKEN Permissions
2025-11-01T05:27:47.6764224Z Contents: read
2025-11-01T05:27:47.6764686Z Metadata: read
2025-11-01T05:27:47.6765116Z Packages: read
2025-11-01T05:27:47.6765570Z ##[endgroup]
2025-11-01T05:27:47.6767618Z Secret source: Actions
2025-11-01T05:27:47.6768231Z Prepare workflow directory
2025-11-01T05:27:47.7410024Z Prepare all required actions
2025-11-01T05:27:47.7451789Z Getting action download info
2025-11-01T05:27:48.2758483Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-11-01T05:27:50.1038827Z Complete job name: deploy
2025-11-01T05:27:50.2041831Z ##[group]Run actions/checkout@v4
2025-11-01T05:27:50.2043317Z with:
2025-11-01T05:27:50.2044045Z   repository: serdna123/ejercicioDevOps
2025-11-01T05:27:50.2045473Z   token: ***
2025-11-01T05:27:50.2046154Z   ssh-strict: true
2025-11-01T05:27:50.2046867Z   ssh-user: git
2025-11-01T05:27:50.2047610Z   persist-credentials: true
2025-11-01T05:27:50.2048451Z   clean: true
2025-11-01T05:27:50.2049182Z   sparse-checkout-cone-mode: true
2025-11-01T05:27:50.2050120Z   fetch-depth: 1
2025-11-01T05:27:50.2050839Z   fetch-tags: false
2025-11-01T05:27:50.2051584Z   show-progress: true
2025-11-01T05:27:50.2052336Z   lfs: false
2025-11-01T05:27:50.2053005Z   submodules: false
2025-11-01T05:27:50.2053777Z   set-safe-directory: true
2025-11-01T05:27:50.2054841Z env:
2025-11-01T05:27:50.2056078Z   IMAGE_TAG: ghcr.io/serdna123/devops-exercise:e14b146d4c233436a90384f628ffbae8f2cc3497
2025-11-01T05:27:50.2057656Z ##[endgroup]
2025-11-01T05:27:51.5926123Z Syncing repository: serdna123/ejercicioDevOps
2025-11-01T05:27:51.5929120Z ##[group]Getting Git version info
2025-11-01T05:27:51.5930657Z Working directory is 'D:\Eclipse\devopsExercise\actions-runner\_work\ejercicioDevOps\ejercicioDevOps'
2025-11-01T05:27:51.7978516Z [command]"C:\Program Files\Git\cmd\git.exe" version
2025-11-01T05:27:51.8498593Z git version 2.51.2.windows.1
2025-11-01T05:27:51.8563769Z ##[endgroup]
2025-11-01T05:27:51.8581059Z Copying 'C:\Users\diego\.gitconfig' to 'D:\Eclipse\devopsExercise\actions-runner\_work\_temp\0e7ec341-6469-4df8-aaef-43dcdec4d2ba\.gitconfig'
2025-11-01T05:27:51.8614355Z Temporarily overriding HOME='D:\Eclipse\devopsExercise\actions-runner\_work\_temp\0e7ec341-6469-4df8-aaef-43dcdec4d2ba' before making global git config changes
2025-11-01T05:27:51.8615639Z Adding repository directory to the temporary git global config as a safe directory
2025-11-01T05:27:51.8629584Z [command]"C:\Program Files\Git\cmd\git.exe" config --global --add safe.directory D:\Eclipse\devopsExercise\actions-runner\_work\ejercicioDevOps\ejercicioDevOps
2025-11-01T05:27:51.9031695Z [command]"C:\Program Files\Git\cmd\git.exe" config --local --get remote.origin.url
2025-11-01T05:27:51.9333327Z https://github.com/serdna123/ejercicioDevOps
2025-11-01T05:27:51.9396500Z ##[group]Removing previously created refs, to avoid conflicts
2025-11-01T05:27:51.9411582Z [command]"C:\Program Files\Git\cmd\git.exe" rev-parse --symbolic-full-name --verify --quiet HEAD
2025-11-01T05:27:51.9746271Z refs/heads/main
2025-11-01T05:27:51.9808340Z [command]"C:\Program Files\Git\cmd\git.exe" checkout --detach
2025-11-01T05:27:54.7578765Z HEAD is now at 8663120 Update README.md
2025-11-01T05:27:54.8547332Z ##[endgroup]
2025-11-01T05:27:54.8560317Z [command]"C:\Program Files\Git\cmd\git.exe" submodule status
2025-11-01T05:27:55.5195123Z ##[error]fatal: no submodule mapping found in .gitmodules for path 'actions-runner/_work/ejercicioDevOps/ejercicioDevOps'
2025-11-01T05:27:55.5266422Z Bad Submodules found, removing existing files
2025-11-01T05:27:55.5267145Z ##[group]Cleaning the repository
2025-11-01T05:27:55.5282951Z [command]"C:\Program Files\Git\cmd\git.exe" clean -ffdx
2025-11-01T05:27:55.5611828Z Removing .env
2025-11-01T05:27:55.5668968Z [command]"C:\Program Files\Git\cmd\git.exe" reset --hard HEAD
2025-11-01T05:27:55.6901992Z HEAD is now at 8663120 Update README.md
2025-11-01T05:27:55.6961966Z ##[endgroup]
2025-11-01T05:27:55.6974175Z ##[warning]Unable to clean or reset the repository. The repository will be recreated instead.
2025-11-01T05:27:55.6975844Z Deleting the contents of 'D:\Eclipse\devopsExercise\actions-runner\_work\ejercicioDevOps\ejercicioDevOps'
2025-11-01T05:27:55.8360204Z ##[group]Initializing the repository
2025-11-01T05:27:55.8374561Z [command]"C:\Program Files\Git\cmd\git.exe" init D:\Eclipse\devopsExercise\actions-runner\_work\ejercicioDevOps\ejercicioDevOps
2025-11-01T05:27:55.8858111Z Initialized empty Git repository in D:/Eclipse/devopsExercise/actions-runner/_work/ejercicioDevOps/ejercicioDevOps/.git/
2025-11-01T05:27:55.9206771Z [command]"C:\Program Files\Git\cmd\git.exe" remote add origin https://github.com/serdna123/ejercicioDevOps
2025-11-01T05:27:55.9366923Z ##[endgroup]
2025-11-01T05:27:55.9367642Z ##[group]Disabling automatic garbage collection
2025-11-01T05:27:55.9379687Z [command]"C:\Program Files\Git\cmd\git.exe" config --local gc.auto 0
2025-11-01T05:27:55.9844570Z ##[endgroup]
2025-11-01T05:27:55.9845080Z ##[group]Setting up auth
2025-11-01T05:27:55.9869937Z [command]"C:\Program Files\Git\cmd\git.exe" config --local --name-only --get-regexp core\.sshCommand
2025-11-01T05:27:56.0367333Z [command]"C:\Program Files\Git\cmd\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2025-11-01T05:27:56.6689650Z [command]"C:\Program Files\Git\cmd\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-01T05:27:56.7053167Z [command]"C:\Program Files\Git\cmd\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2025-11-01T05:27:57.3251373Z [command]"C:\Program Files\Git\cmd\git.exe" config --local http.https://github.com/.extraheader "AUTHORIZATION: basic ***"
2025-11-01T05:27:57.3641876Z ##[endgroup]
2025-11-01T05:27:57.3642542Z ##[group]Fetching the repository
2025-11-01T05:27:57.3662732Z [command]"C:\Program Files\Git\cmd\git.exe" -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +e14b146d4c233436a90384f628ffbae8f2cc3497:refs/remotes/origin/main
2025-11-01T05:28:07.4026094Z From https://github.com/serdna123/ejercicioDevOps
2025-11-01T05:28:07.4026887Z  * [new ref]         e14b146d4c233436a90384f628ffbae8f2cc3497 -> origin/main
2025-11-01T05:28:07.4260033Z ##[endgroup]
2025-11-01T05:28:07.4260604Z ##[group]Determining the checkout info
2025-11-01T05:28:07.4262481Z ##[endgroup]
2025-11-01T05:28:07.4276551Z [command]"C:\Program Files\Git\cmd\git.exe" sparse-checkout disable
2025-11-01T05:28:07.4697161Z [command]"C:\Program Files\Git\cmd\git.exe" config --local --unset-all extensions.worktreeConfig
2025-11-01T05:28:07.5043969Z ##[group]Checking out the ref
2025-11-01T05:28:07.5058838Z [command]"C:\Program Files\Git\cmd\git.exe" checkout --progress --force -B main refs/remotes/origin/main
2025-11-01T05:28:08.6734288Z Updating files:  67% (278/414)
2025-11-01T05:28:08.6758066Z Updating files:  68% (282/414)
2025-11-01T05:28:08.6859402Z Updating files:  69% (286/414)
2025-11-01T05:28:08.6875904Z Updating files:  70% (290/414)
2025-11-01T05:28:08.6900828Z Updating files:  71% (294/414)
2025-11-01T05:28:08.6928223Z Updating files:  72% (299/414)
2025-11-01T05:28:08.7000279Z Updating files:  73% (303/414)
2025-11-01T05:28:08.7025201Z Updating files:  74% (307/414)
2025-11-01T05:28:08.7045949Z Updating files:  75% (311/414)
2025-11-01T05:28:08.7087866Z Updating files:  76% (315/414)
2025-11-01T05:28:08.7269101Z Updating files:  77% (319/414)
2025-11-01T05:28:08.7293231Z Updating files:  78% (323/414)
2025-11-01T05:28:08.7369379Z Updating files:  79% (328/414)
2025-11-01T05:28:08.7553724Z Updating files:  80% (332/414)
2025-11-01T05:28:08.7618813Z Updating files:  81% (336/414)
2025-11-01T05:28:08.7632862Z Updating files:  82% (340/414)
2025-11-01T05:28:08.7694649Z Updating files:  83% (344/414)
2025-11-01T05:28:08.7714078Z Updating files:  84% (348/414)
2025-11-01T05:28:08.7750599Z Updating files:  85% (352/414)
2025-11-01T05:28:08.7766687Z Updating files:  86% (357/414)
2025-11-01T05:28:08.7796208Z Updating files:  87% (361/414)
2025-11-01T05:28:08.7885537Z Updating files:  88% (365/414)
2025-11-01T05:28:08.8482741Z Updating files:  89% (369/414)
2025-11-01T05:28:08.8573206Z Updating files:  90% (373/414)
2025-11-01T05:28:08.8966324Z Updating files:  91% (377/414)
2025-11-01T05:28:08.9084668Z Updating files:  92% (381/414)
2025-11-01T05:28:08.9101864Z Updating files:  93% (386/414)
2025-11-01T05:28:09.6267711Z Updating files:  94% (390/414)
2025-11-01T05:28:09.9411267Z Updating files:  94% (391/414)
2025-11-01T05:28:09.9422194Z Updating files:  95% (394/414)
2025-11-01T05:28:09.9432733Z Updating files:  96% (398/414)
2025-11-01T05:28:09.9456786Z Updating files:  97% (402/414)
2025-11-01T05:28:09.9476155Z Updating files:  98% (406/414)
2025-11-01T05:28:09.9493413Z Updating files:  99% (410/414)
2025-11-01T05:28:09.9493771Z Updating files: 100% (414/414)
2025-11-01T05:28:09.9494112Z Updating files: 100% (414/414), done.
2025-11-01T05:28:09.9634037Z branch 'main' set up to track 'origin/main'.
2025-11-01T05:28:09.9657095Z Switched to a new branch 'main'
2025-11-01T05:28:09.9936580Z ##[endgroup]
2025-11-01T05:28:10.0399619Z [command]"C:\Program Files\Git\cmd\git.exe" log -1 --format=%H
2025-11-01T05:28:10.0862339Z e14b146d4c233436a90384f628ffbae8f2cc3497
2025-11-01T05:28:10.1475797Z ##[group]Run "JWT_SECRET_B64=***" | Out-File -Encoding ASCII .env
2025-11-01T05:28:10.1476928Z [36;1m"JWT_SECRET_B64=***" | Out-File -Encoding ASCII .env[0m
2025-11-01T05:28:10.1477733Z [36;1m"IMAGE_TAG=ghcr.io/serdna123/devops-exercise:e14b146d4c233436a90384f628ffbae8f2cc3497" | Out-File -Encoding ASCII -Append .env[0m
2025-11-01T05:28:10.1478491Z [36;1mGet-Content .env[0m
2025-11-01T05:28:10.1525600Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -command ". '{0}'"
2025-11-01T05:28:10.1526083Z env:
2025-11-01T05:28:10.1526479Z   IMAGE_TAG: ghcr.io/serdna123/devops-exercise:e14b146d4c233436a90384f628ffbae8f2cc3497
2025-11-01T05:28:10.1526943Z ##[endgroup]
2025-11-01T05:28:10.4718123Z JWT_SECRET_B64=***
2025-11-01T05:28:10.4718819Z IMAGE_TAG=ghcr.io/serdna123/devops-exercise:e14b146d4c233436a90384f628ffbae8f2cc3497
2025-11-01T05:28:10.5090134Z ##[group]Run $python = "C:\Python311\python.exe"
2025-11-01T05:28:10.5090589Z [36;1m$python = "C:\Python311\python.exe"[0m
2025-11-01T05:28:10.5091007Z [36;1m$podman = "C:\Program Files\RedHat\Podman\podman.exe"[0m
2025-11-01T05:28:10.5091407Z [36;1m$moddir = "$env:RUNNER_TEMP\pdc"[0m
2025-11-01T05:28:10.5091690Z [36;1m[0m
2025-11-01T05:28:10.5091946Z [36;1m& $python -m pip install --upgrade pip[0m
2025-11-01T05:28:10.5092376Z [36;1mif ($LASTEXITCODE -ne 0) { throw "pip upgrade failed" }[0m
2025-11-01T05:28:10.5092745Z [36;1m[0m
2025-11-01T05:28:10.5093005Z [36;1m& $python -m pip install podman-compose -t $moddir[0m
2025-11-01T05:28:10.5093516Z [36;1mif ($LASTEXITCODE -ne 0) { throw "pip install podman-compose failed" }[0m
2025-11-01T05:28:10.5093927Z [36;1m[0m
2025-11-01T05:28:10.5094122Z [36;1m$env:PYTHONPATH = $moddir[0m
2025-11-01T05:28:10.5094383Z [36;1m[0m
2025-11-01T05:28:10.5094603Z [36;1m& $python -m podman_compose --version[0m
2025-11-01T05:28:10.5094948Z [36;1m[0m
2025-11-01T05:28:10.5095159Z [36;1m# Pull de la imagen versionada GHCR[0m
2025-11-01T05:28:10.5095483Z [36;1m& $podman pull $env:IMAGE_TAG[0m
2025-11-01T05:28:10.5095877Z [36;1mif ($LASTEXITCODE -ne 0) { throw "podman pull failed" }[0m
2025-11-01T05:28:10.5096240Z [36;1m[0m
2025-11-01T05:28:10.5096415Z [36;1m# DOWN[0m
2025-11-01T05:28:10.5096934Z [36;1m& $python -m podman_compose down[0m
2025-11-01T05:28:10.5097394Z [36;1mif ($LASTEXITCODE -ne 0) { Write-Host "no stack to stop"; $LASTEXITCODE = 0 }[0m
2025-11-01T05:28:10.5097834Z [36;1m[0m
2025-11-01T05:28:10.5098000Z [36;1m# UP [0m
2025-11-01T05:28:10.5098242Z [36;1m& $python -m podman_compose up -d[0m
2025-11-01T05:28:10.5098651Z [36;1mif ($LASTEXITCODE -ne 0) { throw "compose up failed" }[0m
2025-11-01T05:28:10.5099011Z [36;1m[0m
2025-11-01T05:28:10.5099204Z [36;1m# Ver contenedores[0m
2025-11-01T05:28:10.5099462Z [36;1m& $podman ps[0m
2025-11-01T05:28:10.5144165Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -command ". '{0}'"
2025-11-01T05:28:10.5144650Z env:
2025-11-01T05:28:10.5145041Z   IMAGE_TAG: ghcr.io/serdna123/devops-exercise:e14b146d4c233436a90384f628ffbae8f2cc3497
2025-11-01T05:28:10.5145506Z ##[endgroup]
2025-11-01T05:28:11.5289393Z WARNING: Ignoring invalid distribution ~ (C:\Python311\Lib\site-packages)
2025-11-01T05:28:11.5291832Z WARNING: Ignoring invalid distribution ~ip (C:\Python311\Lib\site-packages)
2025-11-01T05:28:11.5301099Z Requirement already satisfied: pip in c:\python311\lib\site-packages (25.3)
2025-11-01T05:28:11.7168666Z WARNING: Ignoring invalid distribution ~ (C:\Python311\Lib\site-packages)
2025-11-01T05:28:11.7170351Z WARNING: Ignoring invalid distribution ~ip (C:\Python311\Lib\site-packages)
2025-11-01T05:28:11.7193223Z WARNING: Ignoring invalid distribution ~ (C:\Python311\Lib\site-packages)
2025-11-01T05:28:11.7196455Z WARNING: Ignoring invalid distribution ~ip (C:\Python311\Lib\site-packages)
2025-11-01T05:28:12.6572332Z Collecting podman-compose
2025-11-01T05:28:12.6606017Z   Using cached podman_compose-1.5.0-py3-none-any.whl.metadata (5.6 kB)
2025-11-01T05:28:12.7116695Z Collecting python-dotenv (from podman-compose)
2025-11-01T05:28:12.7149614Z   Using cached python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)
2025-11-01T05:28:12.8457330Z Collecting pyyaml (from podman-compose)
2025-11-01T05:28:12.8489987Z   Using cached pyyaml-6.0.3-cp311-cp311-win_amd64.whl.metadata (2.4 kB)
2025-11-01T05:28:12.8730094Z Using cached podman_compose-1.5.0-py3-none-any.whl (47 kB)
2025-11-01T05:28:12.8763131Z Using cached python_dotenv-1.2.1-py3-none-any.whl (21 kB)
2025-11-01T05:28:12.8798687Z Using cached pyyaml-6.0.3-cp311-cp311-win_amd64.whl (158 kB)
2025-11-01T05:28:13.0167565Z WARNING: Ignoring invalid distribution ~ (C:\Python311\Lib\site-packages)
2025-11-01T05:28:13.0170259Z WARNING: Ignoring invalid distribution ~ip (C:\Python311\Lib\site-packages)
2025-11-01T05:28:13.0244895Z Installing collected packages: pyyaml, python-dotenv, podman-compose
2025-11-01T05:28:13.7393300Z 
2025-11-01T05:28:13.7406683Z Successfully installed podman-compose-1.5.0 python-dotenv-1.2.1 pyyaml-6.0.3
2025-11-01T05:28:14.7113731Z podman version 5.6.0
2025-11-01T05:28:14.7164655Z podman-compose version 1.5.0
2025-11-01T05:28:15.1892907Z Trying to pull ghcr.io/serdna123/devops-exercise:e14b146d4c233436a90384f628ffbae8f2cc3497...
2025-11-01T05:28:16.2553650Z Getting image source signatures
2025-11-01T05:28:16.2559281Z Copying blob sha256:767d8d7e69edf8db18a9b771a8d7a97200540f1a09293b054933132daaf090cb
2025-11-01T05:28:16.2560698Z Copying blob sha256:f7a55b01e3ac44fd314137f34c2089a82e6266936a8a7a2e28ce60499bd91791
2025-11-01T05:28:16.2561976Z Copying blob sha256:b072ed4655dd0505a0227f4b39e45856d97fdad63b0386f018b36594098ce12a
2025-11-01T05:28:16.2563150Z Copying blob sha256:0a412a34a90e9c7e90943ae8125908b2321b7e4265ad339c99a628dd2d704027
2025-11-01T05:28:16.2564247Z Copying blob sha256:af6eca94c8104c8e90d3f9efe59c2b3a02b20aad3d985e31c7cd009ea104c447
2025-11-01T05:28:16.2565316Z Copying blob sha256:3b49e514d0b6e3b401a83663a81353ef5944c24666c9373cb6f21fbbb5c9800f
2025-11-01T05:28:16.2599710Z Copying blob sha256:875262149d650d6a19ab3a442c0783125ae3476103abf6194dd721bb8e0ac6ac
2025-11-01T05:28:17.6474711Z Copying config sha256:2d3f896e6c275bdcb8faef2c7f56f4